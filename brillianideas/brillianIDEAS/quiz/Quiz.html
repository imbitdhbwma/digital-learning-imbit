<!DOCTYPE html>

<html lang="de">
<head>
<link
	rel="shortcut icon"
	href="../img/favicon.ico"
	type="image/x-icon">
<meta charset="UTF-8">
<title>Quiz</title>
<link
	rel="stylesheet"
	type="text/css"
	href="dev_files/main.css" />

<link
	rel="stylesheet"
	type="text/css"
	href="dev_files/Quiz_checkbox.css" />
<link
	rel="stylesheet"
	type="text/css"
	href="dev_files/Quiz_Drag.css" />
<link
	rel="stylesheet"
	type="text/css"
	href="dev_files/Quiz_Radiobutton.css" />
<link
	rel="stylesheet"
	type="text/css"
	href="dev_files/Quiz_Text.css" />
<link
	rel="stylesheet"
	type="text/css"
	href="dev_files/Quiz_Table.css" />
<link
	rel="stylesheet"
	type="text/css"
	href="dev_files/Quiz_Order.css" />

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script
	type="text/javascript"
	src="dev_files/helper.js"></script>
<link
	rel="stylesheet"
    href="../css/fonts.css" />
</head>

<body>

		<div><!-- //<div id="content"> -->
	<ul id="questionList">
		
	</ul>
	
	<script>
			//get Parameter aus der URL, um entsprechendes Fach aus dem Json zufiltern 
		function getParameter(key) {
				var query = window.location.search.substring(1); 
				var pairs = query.split('&');
		
				for (var i = 0; i < pairs.length; i++) {
				var pair = pairs[i].split('=');
				if(pair[0] == key) {
						if(pair[1].length > 0)
					return pair[1];
				}  
				}
		
				return undefined;  
		};
		
		var key = 'subject';
		var value = getParameter(key);
		
		//if (value) alert(value);//FÃ¼r Testzwecke
	
	
	
	
	
		$(function() {
			var array = [];
	
			//json Datei laden
			$.getJSON("dev_files/convertcsv.json", function(data) {
					//Schleife iteriert durch das Array
					$.each(data, function(i, f) {
						var subject = f.subject;
						var questionType= f.questionType;
						var question= f.question;
						var answers = f.answers;
						var correct = f.correct;
						var title = f.title;
						// console.log(answers);

						
	
						// Anzeige der Fragen sortiert nach questionType
						if(subject===value) {
							switch (questionType){
								case "MC": 
								$(document).ready(function() {
									createMC(
										question,
										answers,
										correct
									);
								});
								break;
	
								case "SC": 
								$(document).ready(function() {
									createSC(
										question,
										answers,
										correct
									);
								});
								break;
	
								case "DD": 
								$(document).ready(function() {
									createDD(
										question,
										answers,
										title,
										correct
									);
								});
								break;
								
								case "TL": 
								$(document).ready(function() {
									createTL(
										question,
										answers,
										title,
										correct
									);
								});
								break;
	
								case "TQ": 
								$(document).ready(function() {
									createTQ(
										question,
										answers,
										title,
										correct
									);
								});
								break;
	
								case "OD": 
								$(document).ready(function() {
									createOD(
										question,
										answers,
										correct
									);
								});
								break;
	
							}
							
						}
					});
				});
			});
		</script>
		
	 
 </div>
	<div id="tl">
		<img
			id="tentakel_l"
			src="../img/tentakel_ltr.png">
	</div>
	<div id="tr">
		<img
			id="tentakel_r"
			src="../img/tentakel_rtl.png">
    </div>
	
	


    

</body>

</html>

